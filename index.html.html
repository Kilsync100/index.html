<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Lost Girl File</title>
<style>
  html,body { margin:0; height:100%; background:#000; overflow:hidden; }
  #start { position:fixed; inset:0; display:grid; place-items:center; background:#000; }
  #btn {
    font:600 18px/1.2 -apple-system,system-ui,Segoe UI,Roboto,Arial;
    color:#fff; border:1px solid #fff; padding:16px 28px; letter-spacing:.1em;
    background:transparent; text-transform:uppercase;
  }
  #face {
    position:fixed; top:50%; left:50%;
    transform:translate(-50%,-50%) scale(1);
    display:none; max-width:100vw; max-height:100vh;
    will-change:transform, opacity; opacity:.98;
    animation:flick .14s infinite alternate;
  }
  @keyframes flick { from{opacity:.86} to{opacity:1} }
</style>
</head>
<body>

<div id="start"><button id="btn">Tap to Begin</button></div>
<img id="face" src="bloodymary.png" alt="">
<audio id="sfx" src="banshee.mp3" preload="auto"></audio>

<script>
const btn = document.getElementById('btn');
const gate = document.getElementById('start');
const img = document.getElementById('face');
const sfx = document.getElementById('sfx');

function scare() {
  gate.style.display = 'none';
  setTimeout(() => {
    img.style.display = 'block';
    sfx.currentTime = 0; sfx.play().catch(()=>{});
    // dramatic zoom
    let scale = 1;
    const z = setInterval(()=>{ scale += 0.06; img.style.transform =
      `translate(-50%,-50%) scale(${scale})`; if (scale >= 1.9) clearInterval(z); }, 45);
  }, 3000);
}

btn.addEventListener('click', async () => {
  // iOS audio unlock
  try { await sfx.play(); sfx.pause(); sfx.currentTime = 0; } catch(e){}
  // optional device motion permission (iOS)
  if (window.DeviceOrientationEvent && DeviceOrientationEvent.requestPermission) {
    try { await DeviceOrientationEvent.requestPermission(); } catch(e){}
  }
  scare();
});

// “eyes follow you” illusion via tiny parallax on tilt/mouse
function applyParallax(x, y) {
  // called only after image shows; gentle offsets
  const maxShift = 10; // px
  const dx = Math.max(-1, Math.min(1, x)) * maxShift;
  const dy = Math.max(-1, Math.min(1, y)) * maxShift;
  const t = img.style.transform || 'translate(-50%,-50%) scale(1)';
  const scaleMatch = t.match(/scale\(([^)]+)\)/);
  const scale = scaleMatch ? parseFloat(scaleMatch[1]) : 1;
  img.style.transform = `translate(calc(-50% + ${dx}px), calc(-50% + ${dy}px)) scale(${scale})`;
}

window.addEventListener('deviceorientation', (e)=>{
  if (img.style.display !== 'block') return;
  // map tilt to small offsets
  const x = (e.gamma || 0) / 45; // left/right
  const y = (e.beta  || 0) / 45; // front/back
  applyParallax(x, y);
}, true);

window.addEventListener('mousemove', (e)=>{
  if (img.style.display !== 'block') return;
  const x = (e.clientX / window.innerWidth) * 2 - 1;
  const y = (e.clientY / window.innerHeight) * 2 - 1;
  applyParallax(x, y);
});
</script>
</body>
</html>